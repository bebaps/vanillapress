{"version":3,"sources":["main.js","data.js","helpers.js","model.js","router.js","view.js","editor.js","app.js"],"names":["posts","id","date","modified","slug","type","title","content","pages","data","helpers","createMenuItem","listItemEl","document","createElement","appendChild","createLink","pageAnchor","pageAnchorContent","createTextNode","href","getMenu","querySelector","getPageTitle","getElementById","getContentContainer","getEditorEl","getEditorToggle","getEditorToggleLink","getEditorTitleEl","getEditorContentEl","getEditorUpdate","model","init","checkLocalStorage","setLocalStorage","getContent","getPost","getPage","getCurrentContent","router","getSlug","getPosts","getLocalStorage","i","length","getPages","updateContent","storage","Date","forEach","post","toISOString","page","JSON","parse","localStorage","getItem","setItem","stringify","deleteLocalStorage","removeItem","loadContent","listenForChanges","window","location","hash","substring","addEventListener","view","clearContent","loadSingle","loadBlogPosts","createMenu","postsMarkup","createDocumentFragment","contentContainer","createPostMarkup","titleEl","postContent","innerHTML","updateTitleFromForm","value","editor","currentContent","updateContentFromForm","contentEl","menuMarkup","menuEl","articleEl","titleAnchor","titleContent","listener","loadEditorForm","formTitle","formContent","addFormListeners","formButton","toggle","event","preventDefault","editorEl","editorToggle","classList","contains","vanillaPress"],"mappings":"AAAA,YCIA,IAAMA,SAEFC,GAAM,EACNC,KAAQ,sBACRC,SAAY,sBACZC,KAAQ,cACRC,KAAQ,QACRC,MAAS,eACTC,QAAW,0FAGXN,GAAM,EACNC,KAAQ,sBACRC,SAAY,sBACZC,KAAQ,sBACRC,KAAQ,QACRC,MAAS,uBACTC,QAAW,iDAGXN,GAAM,EACNC,KAAQ,sBACRC,SAAY,sBACZC,KAAQ,WACRC,KAAQ,QACRC,MAAS,gBACTC,QAAW,mEAGXN,GAAM,EACNC,KAAQ,sBACRC,SAAY,sBACZC,KAAQ,YACRC,KAAQ,QACRC,MAAS,aACTC,QAAW,+HAGXN,GAAM,EACNC,KAAQ,sBACRC,SAAY,sBACZC,KAAQ,qBACRC,KAAQ,QACRC,MAAS,qBACTC,QAAW,0CAQTC,QAEFP,GAAM,EACNC,KAAQ,sBACRC,SAAY,sBACZC,KAAQ,OACRC,KAAQ,OACRC,MAAS,OACTC,QAAW,iDAGXN,GAAM,EACNC,KAAQ,sBACRC,SAAY,sBACZC,KAAQ,QACRC,KAAQ,OACRC,MAAS,QACTC,QAAW,uBAGXN,GAAM,EACNC,KAAQ,sBACRC,SAAY,sBACZC,KAAQ,OACRC,KAAQ,OACRC,MAAS,OACTC,QAAW,0BAGXN,GAAM,EACNC,KAAQ,sBACRC,SAAY,sBACZC,KAAQ,UACRC,KAAQ,OACRC,MAAS,UACTC,QAAW,yCAQTE,MACJT,MAAOA,MACPQ,MAAOA,OCjGHE,UAQNA,SAAQC,eAAiB,SAACF,GACxB,GAAIG,GAAaC,SAASC,cAAc,KAIxC,OAFAF,GAAWG,YAAYL,QAAQM,WAAWP,IAEnCG,GASTF,QAAQM,WAAa,SAACP,GACpB,GAAIQ,GAAaJ,SAASC,cAAc,KACpCI,EAAoBL,SAASM,eAAeV,EAAKH,MAUrD,OARI,SAAWG,EAAKL,KAClBa,EAAWG,KAAO,IAElBH,EAAWG,KAAO,IAAMX,EAAKL,KAG/Ba,EAAWF,YAAYG,GAEhBD,GAQTP,QAAQW,QAAU,WAChB,MAAOR,UAASS,cAAc,gBAQhCZ,QAAQa,aAAe,WACrB,MAAOV,UAASW,eAAe,cAQjCd,QAAQe,oBAAsB,WAC5B,MAAOZ,UAASW,eAAe,gBAQjCd,QAAQgB,YAAc,WACpB,MAAOb,UAASW,eAAe,WAQjCd,QAAQiB,gBAAkB,WACzB,MAAOd,UAASW,eAAe,iBAQhCd,QAAQkB,oBAAsB,WAC5B,MAAOf,UAASS,cAAe,oBAQjCZ,QAAQmB,iBAAmB,WACzB,MAAOhB,UAASW,eAAe,cAQjCd,QAAQoB,mBAAqB,WAC3B,MAAOjB,UAASW,eAAe,gBAQjCd,QAAQqB,gBAAkB,WACxB,MAAOlB,UAASW,eAAe,iBCnHjC,IAAMQ,SAMNA,OAAMC,KAAO,WACND,MAAME,qBACTF,MAAMG,gBAAgB1B,OAS1BuB,MAAMI,WAAa,SAAChC,GAClB,GAAIG,GAAUyB,MAAMK,QAAQjC,EAa5B,OAXI,QAASG,IACXA,EAAUyB,MAAMM,QAAQlC,IAGtB,OAASG,IACXA,GACED,MAAO,YACPC,QAAS,sBAINA,GAQTyB,MAAMO,kBAAoB,WACxB,GAAInC,GAAOoC,OAAOC,UACdlC,EAAAA,MAQJ,OANI,QAASH,IACXA,EAAO,QAGTG,EAAUyB,MAAMI,WAAWhC,IAU7B4B,MAAMU,SAAW,WACf,GAAI1C,GAAQgC,MAAMW,kBAAkB3C,KAEpC,OAAOA,IASTgC,MAAMK,QAAU,SAACjC,GAGf,IAAK,GAFDJ,GAAQgC,MAAMW,kBAAkB3C,MAE3B4C,EAAI,EAAGA,EAAI5C,EAAM6C,OAAQD,IAChC,GAAIxC,IAASJ,EAAM4C,GAAGxC,KACpB,MAAOJ,GAAM4C,EAIjB,OAAO,OAQTZ,MAAMc,SAAW,WACf,GAAItC,GAAQwB,MAAMW,kBAAkBnC,KAEpC,OAAOA,IASTwB,MAAMM,QAAU,SAAClC,GAGf,IAAK,GAFDI,GAAQwB,MAAMW,kBAAkBnC,MAE3BoC,EAAI,EAAGA,EAAIpC,EAAMqC,OAAQD,IAChC,GAAIxC,IAASI,EAAMoC,GAAGxC,KACpB,MAAOI,GAAMoC,EAIjB,OAAO,OAQTZ,MAAMe,cAAgB,SAACxC,GACrB,GAAIyC,GAAUhB,MAAMW,kBAChBzC,EAAO,GAAI+C,KAEX,UAAW1C,EAAQF,MACrB2C,EAAQhD,MAAMkD,QAAQ,SAASC,GACzB5C,EAAQN,KAAOkD,EAAKlD,KACtBkD,EAAK7C,MAAQC,EAAQD,MACrB6C,EAAK5C,QAAUA,EAAQA,QACvB4C,EAAKhD,SAAWD,EAAKkD,iBAKvB,SAAW7C,EAAQF,MACrB2C,EAAQxC,MAAM0C,QAAQ,SAASG,GACzB9C,EAAQN,KAAOoD,EAAKpD,KACtBoD,EAAK/C,MAAQC,EAAQD,MACrB+C,EAAK9C,QAAUA,EAAQA,QACvB8C,EAAKlD,SAAWD,EAAKkD,iBAK3BpB,MAAMG,gBAAgBa,IAQxBhB,MAAME,kBAAoB,WACxB,GAAIc,GAAUhB,MAAMW,iBAEpB,OAAI,QAASK,GAYfhB,MAAMW,gBAAkB,WACtB,MAAOW,MAAKC,MAAMC,aAAaC,QAAQ,kBAQzCzB,MAAMG,gBAAkB,SAAC1B,GACvB+C,aAAaE,QAAQ,eAAgBJ,KAAKK,UAAUlD,KAOtDuB,MAAM4B,mBAAqB,WACzBJ,aAAaK,WAAW,gBCpL1B,IAAMrB,UAMNA,QAAOP,KAAO,WACZO,OAAOsB,cACPtB,OAAOuB,oBAQTvB,OAAOC,QAAU,WACf,GAAMrC,GAAO4D,OAAOC,SAASC,IAE7B,OAAI,KAAO9D,EACF,KAEAA,EAAK+D,UAAU,IAQ1B3B,OAAOuB,iBAAmB,WACxBC,OAAOI,iBAAiB,aAAc5B,OAAOsB,aAAa,IAO5DtB,OAAOsB,YAAc,WACnB,GAAM1D,GAAOoC,OAAOC,SAEpB4B,MAAKC,eAED,OAASlE,EACXiE,KAAKE,WAAW,QACP,SAAWnE,EACpBiE,KAAKG,gBAELH,KAAKE,WAAWnE,GChDpB,IAAMiE,QAMNA,MAAKpC,KAAO,WACVoC,KAAKI,cAOPJ,KAAKG,cAAgB,WAKnB,IAAK,GAJDxE,GAAQgC,MAAMU,WACdgC,EAAc7D,SAAS8D,yBACvBC,EAAmBlE,QAAQe,sBAEtBmB,EAAI,EAAGA,EAAI5C,EAAM6C,OAAQD,IAChC8B,EAAY3D,YAAYsD,KAAKQ,iBAAiB7E,EAAM4C,IAGtDgC,GAAiB7D,YAAY2D,IAQ/BL,KAAKE,WAAa,SAACnE,GACjB,GAAIG,GAAUyB,MAAMI,WAAWhC,GAC3B0E,EAAUpE,QAAQa,eAClBwD,EAAcrE,QAAQe,qBAE1BqD,GAAQE,UAAYzE,EAAQD,MAC5ByE,EAAYC,UAAYzE,EAAQA,SAOlC8D,KAAKY,oBAAsB,WACzB,GAAIH,GAAUpE,QAAQa,eAClBjB,EAAQI,QAAQmB,mBAAmBqD,KAEvCJ,GAAQE,UAAY1E,EACpB6E,OAAOC,eAAe9E,MAAQA,GAOhC+D,KAAKgB,sBAAwB,WAC3B,GAAIC,GAAY5E,QAAQe,sBACpBlB,EAAUG,QAAQoB,qBAAqBoD,KAE3CI,GAAUN,UAAYzE,EACtB4E,OAAOC,eAAe7E,QAAUA,GAOlC8D,KAAKC,aAAe,WAClB,GAAIQ,GAAUpE,QAAQa,eAClBwD,EAAcrE,QAAQe,qBAE1BqD,GAAQE,UAAY,GACpBD,EAAYC,UAAY,IAO1BX,KAAKI,WAAa,WAKhB,IAAK,GAJDjE,GAAQwB,MAAMc,WACdyC,EAAa1E,SAAS8D,yBACtBa,EAAS9E,QAAQW,UAEZuB,EAAI,EAAGA,EAAIpC,EAAMqC,OAAQD,IAChC2C,EAAWxE,YAAYL,QAAQC,eAAeH,EAAMoC,IAGtD4C,GAAOzE,YAAYwE,IASrBlB,KAAKQ,iBAAmB,SAAC1B,GACvB,GAAIsC,GAAY5E,SAASC,cAAc,WACnCgE,EAAUjE,SAASC,cAAc,MACjC4E,EAAc7E,SAASC,cAAc,KACrC6E,EAAe9E,SAASM,eAAegC,EAAK7C,OAC5CyE,EAAclE,SAASC,cAAc,MAWzC,OATA4E,GAAY3E,YAAY4E,GACxBD,EAAYtE,KAAO,IAAM+B,EAAK/C,KAC9B0E,EAAQ/D,YAAY2E,GAEpBX,EAAYhE,YAAYF,SAASM,eAAegC,EAAK5C,UAErDkF,EAAU1E,YAAY+D,GACtBW,EAAU1E,YAAYgE,GAEfU,EClHT,IAAMN,UAMNA,QAAOC,eAAiB,GAMxBD,OAAOlD,KAAO,WACZkD,OAAOS,YAOTT,OAAOpC,cAAgB,WACrBf,MAAMe,cAAcoC,OAAOC,iBAQ7BD,OAAOU,eAAiB,SAACtF,GACvB,GAAIuF,GAAYpF,QAAQmB,mBACpBkE,EAAcrF,QAAQoB,oBAE1BgE,GAAUZ,MAAQ3E,EAAQD,MAC1ByF,EAAYb,MAAQ3E,EAAQA,QAE5B4E,OAAOa,oBAOTb,OAAOa,iBAAmB,WACxB,GAAIF,GAAYpF,QAAQmB,mBACpBkE,EAAcrF,QAAQoB,qBACtBmE,EAAavF,QAAQqB,iBAEzB+D,GAAU1B,iBAAiB,QAASC,KAAKY,qBAAqB,GAC9Dc,EAAY3B,iBAAiB,QAASC,KAAKgB,uBAAuB,GAClEY,EAAW7B,iBAAiB,QAASe,OAAOpC,eAAe,IAO7DoC,OAAOS,SAAW,WAChB,GAAIM,GAASxF,QAAQiB,iBAErBuE,GAAO9B,iBAAiB,QAAS,WAC/Be,OAAOe,SACPC,MAAMC,mBACL,IAOLjB,OAAOe,OAAS,WACd,GAAIG,GAAW3F,QAAQgB,cACnB4E,EAAe5F,QAAQiB,iBAE3BwD,QAAOC,eAAiBpD,MAAMO,oBAE9B8D,EAASE,UAAUL,OAAO,UAC1BI,EAAaC,UAAUL,OAAO,WAE1B,IAAUI,EAAaC,UAAUC,SAAS,WAC5CrB,OAAOU,eAAeV,OAAOC,gBChFjC,IAAMqB,gBAMNA,cAAaxE,KAAO,WAClBD,MAAMC,OACNO,OAAOP,OACPoC,KAAKpC,OACLkD,OAAOlD,QAGTwE,aAAaxE","file":"main.min.js","sourcesContent":["\"use strict\";\n\n/**\n * Arry of post objects for use\n * @type {Array}\n */\nvar posts = [{\n  \"id\": 1,\n  \"date\": \"2016-01-09T22:05:09\",\n  \"modified\": \"2016-01-09T22:05:09\",\n  \"slug\": \"hello-world\",\n  \"type\": \"posts\",\n  \"title\": \"Hello world!\",\n  \"content\": \"Welcome to WordPress. This is your first post. Edit or delete it, then start writing!\"\n}, {\n  \"id\": 2,\n  \"date\": \"2016-01-10T22:05:09\",\n  \"modified\": \"2016-01-10T22:05:09\",\n  \"slug\": \"learning-javascript\",\n  \"type\": \"posts\",\n  \"title\": \"Learning JavaScript!\",\n  \"content\": \"I'm learning JavaScript and super excited!!!\"\n}, {\n  \"id\": 3,\n  \"date\": \"2016-01-11T22:05:09\",\n  \"modified\": \"2016-01-11T22:05:09\",\n  \"slug\": \"rest-api\",\n  \"type\": \"posts\",\n  \"title\": \"The REST API!\",\n  \"content\": \"I've started working with the REST API in WordPress, what fun!\"\n}, {\n  \"id\": 4,\n  \"date\": \"2016-01-12T22:05:09\",\n  \"modified\": \"2016-01-12T22:05:09\",\n  \"slug\": \"json-data\",\n  \"type\": \"posts\",\n  \"title\": \"JSON Data!\",\n  \"content\": \"So, with the REST API it is posible to pull in WordPress data as pure JSON.  Now I'm figuring out what to do with the data\"\n}, {\n  \"id\": 5,\n  \"date\": \"2016-01-13T22:05:09\",\n  \"modified\": \"2016-01-13T22:05:09\",\n  \"slug\": \"javascript-project\",\n  \"type\": \"posts\",\n  \"title\": \"JavaScript Project\",\n  \"content\": \"Some more sample content to work with\"\n}];\n\n/**\n * Array of page objects for use\n * @type {Array}\n */\nvar pages = [{\n  \"id\": 6,\n  \"date\": \"2016-01-18T22:05:09\",\n  \"modified\": \"2016-01-18T22:05:09\",\n  \"slug\": \"home\",\n  \"type\": \"page\",\n  \"title\": \"Home\",\n  \"content\": \"Welcome to VanillaPress, my JavaScript site!\"\n}, {\n  \"id\": 7,\n  \"date\": \"2016-01-18T22:05:09\",\n  \"modified\": \"2016-01-18T22:05:09\",\n  \"slug\": \"about\",\n  \"type\": \"page\",\n  \"title\": \"About\",\n  \"content\": \"A little about me!\"\n}, {\n  \"id\": 8,\n  \"date\": \"2016-01-18T22:05:09\",\n  \"modified\": \"2016-01-18T22:05:09\",\n  \"slug\": \"blog\",\n  \"type\": \"page\",\n  \"title\": \"Blog\",\n  \"content\": \"Please enjoy my posts\"\n}, {\n  \"id\": 9,\n  \"date\": \"2016-01-18T22:05:09\",\n  \"modified\": \"2016-01-18T22:05:09\",\n  \"slug\": \"contact\",\n  \"type\": \"page\",\n  \"title\": \"Contact\",\n  \"content\": \"Drop me a line with any questions :)\"\n}];\n\n/**\n * Turn the posts/pages array into a usable JSON format\n * @type {String}\n */\nvar data = {\n  posts: posts,\n  pages: pages\n};\n'use strict';\n\n/**\n * Helpers object\n * @type {Object}\n */\nvar helpers = {};\n\n/**\n * Create a new list item for the main menu\n * @method createMenuItem\n * @param  {Object} data The current post or page of the page\n * @return {Node} A new list item of the main menu\n */\nhelpers.createMenuItem = function (data) {\n  var listItemEl = document.createElement('li');\n\n  listItemEl.appendChild(helpers.createLink(data));\n\n  return listItemEl;\n};\n\n/**\n * Create a new anchor\n * @method createLink\n * @param  {Object} data The current post or page of the page\n * @return {Node} The complete anchor for the current post or page\n */\nhelpers.createLink = function (data) {\n  var pageAnchor = document.createElement('a'),\n      pageAnchorContent = document.createTextNode(data.title);\n\n  if ('home' === data.slug) {\n    pageAnchor.href = '#';\n  } else {\n    pageAnchor.href = '#' + data.slug;\n  }\n\n  pageAnchor.appendChild(pageAnchorContent);\n\n  return pageAnchor;\n};\n\n/**\n * Get the main menu element\n * @method getMenu\n * @return {Node} The main menu for the site\n */\nhelpers.getMenu = function () {\n  return document.querySelector('#mainNav ul');\n};\n\n/**\n * Get the title of the current page\n * @method getPageTitle\n * @return {Node} The title of the current page\n */\nhelpers.getPageTitle = function () {\n  return document.getElementById('pageTitle');\n};\n\n/**\n * Get the content container of the current page\n * @method getContentContainer\n * @return {Node} The content container for the current page\n */\nhelpers.getContentContainer = function () {\n  return document.getElementById('pageContent');\n};\n\n/**\n * Gets the Editor element in the DOM\n * @method getEditorEl\n * @return {Object} Main editor DOM object\n */\nhelpers.getEditorEl = function () {\n  return document.getElementById('editor');\n};\n\n/**\n * Gets Editor toggle element in the DOM\n * @method getEditorToggle\n * @return {Object} Main toggle element\n */\nhelpers.getEditorToggle = function () {\n  return document.getElementById('editorToggle');\n};\n\n/**\n * Gets editor toggle link Element in the DOM\n * @method getEditorToggleLink\n * @return {Object} Main toggle link\n */\nhelpers.getEditorToggleLink = function () {\n  return document.querySelector('#editorToggle a');\n};\n\n/**\n * Get the title input element from the editor\n * @method getEditorTitleEl\n * @return {Object} Editor title input\n */\nhelpers.getEditorTitleEl = function () {\n  return document.getElementById('editTitle');\n};\n\n/**\n * Get the content textarea from the editor\n * @method getEditorContentEl\n * @return {Object} Editor textarea\n */\nhelpers.getEditorContentEl = function () {\n  return document.getElementById('editContent');\n};\n\n/**\n * Get the editor button\n * @method getEditorUpdate\n * @return {Object} Editor button\n */\nhelpers.getEditorUpdate = function () {\n  return document.getElementById('editUpdateBtn');\n};\n'use strict';\n\n/**\n * Model object\n * @type {Object}\n */\nvar model = {};\n\n/**\n * Initialize the Model\n * @method init\n */\nmodel.init = function () {\n  if (!model.checkLocalStorage()) {\n    model.setLocalStorage(data);\n  }\n};\n\n/**\n * Get the content that is currently on the page or generate 404 text\n * @method getContent\n * @return {Object} Object containing the content for the current page\n */\nmodel.getContent = function (slug) {\n  var content = model.getPost(slug);\n\n  if (null === content) {\n    content = model.getPage(slug);\n  }\n\n  if (null === content) {\n    content = {\n      title: '404 Error',\n      content: 'Content not found'\n    };\n  }\n\n  return content;\n};\n\n/**\n * Determine what post or page is currently being viewed, and get the content for that page\n * @method getCurrentContent\n * @return {Object} The content of the current post or page\n */\nmodel.getCurrentContent = function () {\n  var slug = router.getSlug(),\n      content = void 0;\n\n  if (null === slug) {\n    slug = 'home';\n  }\n\n  content = model.getContent(slug);\n\n  return content;\n};\n\n/**\n * Get posts data from the browsers local storage, and sets to a variable for use\n * @method getPosts\n * @return {Array} An array of post objects\n */\nmodel.getPosts = function () {\n  var posts = model.getLocalStorage().posts;\n\n  return posts;\n};\n\n/**\n * Get a single post based upon the current URL slug\n * @method getPost\n * @param  {String} slug The current URL slug\n * @return {Object}      The post object with a matching slug, or null if there is no match\n */\nmodel.getPost = function (slug) {\n  var posts = model.getLocalStorage().posts;\n\n  for (var i = 0; i < posts.length; i++) {\n    if (slug === posts[i].slug) {\n      return posts[i];\n    }\n  }\n\n  return null;\n};\n\n/**\n * Get pages data from the browsers local storage, and sets to a variable for use\n * @method getPages\n * @return {Array} An array of page objects\n */\nmodel.getPages = function () {\n  var pages = model.getLocalStorage().pages;\n\n  return pages;\n};\n\n/**\n * Get a single page based upon the current URL slug\n * @method getPage\n * @param  {String} slug The current URL slug\n * @return {Object}      The page object with a matching slug, or null if there is no match\n */\nmodel.getPage = function (slug) {\n  var pages = model.getLocalStorage().pages;\n\n  for (var i = 0; i < pages.length; i++) {\n    if (slug === pages[i].slug) {\n      return pages[i];\n    }\n  }\n\n  return null;\n};\n\n/**\n * Update the content in the page with the content from the editor\n * @method updateContent\n * @param  {Object}      content The content from the editor\n */\nmodel.updateContent = function (content) {\n  var storage = model.getLocalStorage(),\n      date = new Date();\n\n  if ('post' === content.type) {\n    storage.posts.forEach(function (post) {\n      if (content.id === post.id) {\n        post.title = content.title;\n        post.content = content.content;\n        post.modified = date.toISOString();\n      }\n    });\n  }\n\n  if ('page' === content.type) {\n    storage.pages.forEach(function (page) {\n      if (content.id === page.id) {\n        page.title = content.title;\n        page.content = content.content;\n        page.modified = date.toISOString();\n      }\n    });\n  }\n\n  model.setLocalStorage(storage);\n};\n\n/**\n * Check if there is data in the browsers local storage\n * @method checkLocalStorage\n * @return {Boolean}        True or false\n */\nmodel.checkLocalStorage = function () {\n  var storage = model.getLocalStorage();\n\n  if (null === storage) {\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * Get content from the browsers local storage\n * @method getLocalStorage\n * @return {Object} JavaScript object or array containing the stored site data\n */\nmodel.getLocalStorage = function () {\n  return JSON.parse(localStorage.getItem('vanillaPress'));\n};\n\n/**\n * Save the temporary data to the browsers local storage\n * @method setLocalStorage\n * @param  {sting} data JSON string of the data to be stored\n */\nmodel.setLocalStorage = function (data) {\n  localStorage.setItem('vanillaPress', JSON.stringify(data));\n};\n\n/**\n * Deletes data from the browsers local storage\n * @method deleteLocalStorage\n */\nmodel.deleteLocalStorage = function () {\n  localStorage.removeItem('vanillaPress');\n};\n'use strict';\n\n/**\n * Router object\n * @type {Object}\n */\nvar router = {};\n\n/**\n * Initialize the Router\n * @method init\n */\nrouter.init = function () {\n  router.loadContent();\n  router.listenForChanges();\n};\n\n/**\n * Get the slug from the URL\n * @method getSlug\n * @return {String} The slug for the current post or page\n */\nrouter.getSlug = function () {\n  var slug = window.location.hash;\n\n  if ('' === slug) {\n    return null;\n  } else {\n    return slug.substring(1);\n  }\n};\n\n/**\n * Listen for changes to the URL hash\n * @method listenForChanges\n */\nrouter.listenForChanges = function () {\n  window.addEventListener('hashchange', router.loadContent, false);\n};\n\n/**\n * Load content based upon the current slug\n * @method loadContent\n */\nrouter.loadContent = function () {\n  var slug = router.getSlug();\n\n  view.clearContent();\n\n  if (null === slug) {\n    view.loadSingle('home');\n  } else if ('blog' === slug) {\n    view.loadBlogPosts();\n  } else {\n    view.loadSingle(slug);\n  }\n};\n'use strict';\n\n/**\n * View object\n * @type {Object}\n */\nvar view = {};\n\n/**\n * Initialize the View\n * @method init\n */\nview.init = function () {\n  view.createMenu();\n};\n\n/**\n * Get the post data from local storage, create markup for each one, and append them to the page\n * @method loadBlogPosts\n */\nview.loadBlogPosts = function () {\n  var posts = model.getPosts(),\n      postsMarkup = document.createDocumentFragment(),\n      contentContainer = helpers.getContentContainer();\n\n  for (var i = 0; i < posts.length; i++) {\n    postsMarkup.appendChild(view.createPostMarkup(posts[i]));\n  }\n\n  contentContainer.appendChild(postsMarkup);\n};\n\n/**\n * Load a single blog post\n * @method loadSingle\n * @param  {String} slug The current URL slug\n */\nview.loadSingle = function (slug) {\n  var content = model.getContent(slug),\n      titleEl = helpers.getPageTitle(),\n      postContent = helpers.getContentContainer();\n\n  titleEl.innerHTML = content.title;\n  postContent.innerHTML = content.content;\n};\n\n/**\n * Update the page title with content in the editor\n * @method updateTitleFromForm\n */\nview.updateTitleFromForm = function () {\n  var titleEl = helpers.getPageTitle(),\n      title = helpers.getEditorTitleEl().value;\n\n  titleEl.innerHTML = title;\n  editor.currentContent.title = title;\n};\n\n/**\n * Update the page content with content in the editor\n * @method updateContentFromForm\n */\nview.updateContentFromForm = function () {\n  var contentEl = helpers.getContentContainer(),\n      content = helpers.getEditorContentEl().value;\n\n  contentEl.innerHTML = content;\n  editor.currentContent.content = content;\n};\n\n/**\n * Clear the content from the page\n * @method clearContent\n */\nview.clearContent = function () {\n  var titleEl = helpers.getPageTitle(),\n      postContent = helpers.getContentContainer();\n\n  titleEl.innerHTML = '';\n  postContent.innerHTML = '';\n};\n\n/**\n * Display the menu of pages\n * @method createMenu\n */\nview.createMenu = function () {\n  var pages = model.getPages(),\n      menuMarkup = document.createDocumentFragment(),\n      menuEl = helpers.getMenu();\n\n  for (var i = 0; i < pages.length; i++) {\n    menuMarkup.appendChild(helpers.createMenuItem(pages[i]));\n  }\n\n  menuEl.appendChild(menuMarkup);\n};\n\n/**\n * Create the markup for the posts\n * @method createPostMarkup\n * @param  {Object} post Post to create markup for\n * @return {Node} Final post markup\n */\nview.createPostMarkup = function (post) {\n  var articleEl = document.createElement('article'),\n      titleEl = document.createElement('h2'),\n      titleAnchor = document.createElement('a'),\n      titleContent = document.createTextNode(post.title),\n      postContent = document.createElement('div');\n\n  titleAnchor.appendChild(titleContent);\n  titleAnchor.href = '#' + post.slug;\n  titleEl.appendChild(titleAnchor);\n\n  postContent.appendChild(document.createTextNode(post.content));\n\n  articleEl.appendChild(titleEl);\n  articleEl.appendChild(postContent);\n\n  return articleEl;\n};\n'use strict';\n\n/**\n * Editor object\n * @type {Object}\n */\nvar editor = {};\n\n/**\n * The current content inside of the editor\n * @type {String}\n */\neditor.currentContent = '';\n\n/**\n * Initialize the editor\n * @method init\n */\neditor.init = function () {\n  editor.listener();\n};\n\n/**\n * Update the content in the page with the content from the editor\n * @method updateContent\n */\neditor.updateContent = function () {\n  model.updateContent(editor.currentContent);\n};\n\n/**\n * Fill the editor form with the content of the current post or page\n * @method fillEditorForm\n * @param  {Obejct} content Content object for the current page or post\n */\neditor.loadEditorForm = function (content) {\n  var formTitle = helpers.getEditorTitleEl(),\n      formContent = helpers.getEditorContentEl();\n\n  formTitle.value = content.title;\n  formContent.value = content.content;\n\n  editor.addFormListeners();\n};\n\n/**\n * Listen to the form inputs for content changes\n * @method addFormListeners\n */\neditor.addFormListeners = function () {\n  var formTitle = helpers.getEditorTitleEl(),\n      formContent = helpers.getEditorContentEl(),\n      formButton = helpers.getEditorUpdate();\n\n  formTitle.addEventListener('input', view.updateTitleFromForm, false);\n  formContent.addEventListener('input', view.updateContentFromForm, false);\n  formButton.addEventListener('click', editor.updateContent, false);\n};\n\n/**\n * Listens for the editor toggle button\n * @return {Object} Main editor DOM object\n */\neditor.listener = function () {\n  var toggle = helpers.getEditorToggle();\n\n  toggle.addEventListener('click', function () {\n    editor.toggle();\n    event.preventDefault();\n  }, false);\n};\n\n/**\n * Controls the toggle for the editor\n * @return {Object} Main toggle element\n */\neditor.toggle = function () {\n  var editorEl = helpers.getEditorEl(),\n      editorToggle = helpers.getEditorToggle();\n\n  editor.currentContent = model.getCurrentContent();\n\n  editorEl.classList.toggle('hidden');\n  editorToggle.classList.toggle('hidden');\n\n  if (false === editorToggle.classList.contains('hidden')) {\n    editor.loadEditorForm(editor.currentContent);\n  }\n};\n\"use strict\";\n\n/**\n * The primary VanillaPress application object\n * @type {Object}\n */\nvar vanillaPress = {};\n\n/**\n * Initialize the app\n * @method init\n */\nvanillaPress.init = function () {\n  model.init();\n  router.init();\n  view.init();\n  editor.init();\n};\n\nvanillaPress.init();","/**\n * Arry of post objects for use\n * @type {Array}\n */\nconst posts = [\n  {\n    \"id\": 1,\n    \"date\": \"2016-01-09T22:05:09\",\n    \"modified\": \"2016-01-09T22:05:09\",\n    \"slug\": \"hello-world\",\n    \"type\": \"posts\",\n    \"title\": \"Hello world!\",\n    \"content\": \"Welcome to WordPress. This is your first post. Edit or delete it, then start writing!\"\n  },\n  {\n    \"id\": 2,\n    \"date\": \"2016-01-10T22:05:09\",\n    \"modified\": \"2016-01-10T22:05:09\",\n    \"slug\": \"learning-javascript\",\n    \"type\": \"posts\",\n    \"title\": \"Learning JavaScript!\",\n    \"content\": \"I'm learning JavaScript and super excited!!!\"\n  },\n  {\n    \"id\": 3,\n    \"date\": \"2016-01-11T22:05:09\",\n    \"modified\": \"2016-01-11T22:05:09\",\n    \"slug\": \"rest-api\",\n    \"type\": \"posts\",\n    \"title\": \"The REST API!\",\n    \"content\": \"I've started working with the REST API in WordPress, what fun!\"\n  },\n  {\n    \"id\": 4,\n    \"date\": \"2016-01-12T22:05:09\",\n    \"modified\": \"2016-01-12T22:05:09\",\n    \"slug\": \"json-data\",\n    \"type\": \"posts\",\n    \"title\": \"JSON Data!\",\n    \"content\": \"So, with the REST API it is posible to pull in WordPress data as pure JSON.  Now I'm figuring out what to do with the data\"\n  },\n  {\n    \"id\": 5,\n    \"date\": \"2016-01-13T22:05:09\",\n    \"modified\": \"2016-01-13T22:05:09\",\n    \"slug\": \"javascript-project\",\n    \"type\": \"posts\",\n    \"title\": \"JavaScript Project\",\n    \"content\": \"Some more sample content to work with\"\n  }\n];\n\n/**\n * Array of page objects for use\n * @type {Array}\n */\nconst pages = [\n  {\n    \"id\": 6,\n    \"date\": \"2016-01-18T22:05:09\",\n    \"modified\": \"2016-01-18T22:05:09\",\n    \"slug\": \"home\",\n    \"type\": \"page\",\n    \"title\": \"Home\",\n    \"content\": \"Welcome to VanillaPress, my JavaScript site!\"\n  },\n  {\n    \"id\": 7,\n    \"date\": \"2016-01-18T22:05:09\",\n    \"modified\": \"2016-01-18T22:05:09\",\n    \"slug\": \"about\",\n    \"type\": \"page\",\n    \"title\": \"About\",\n    \"content\": \"A little about me!\"\n  },\n  {\n    \"id\": 8,\n    \"date\": \"2016-01-18T22:05:09\",\n    \"modified\": \"2016-01-18T22:05:09\",\n    \"slug\": \"blog\",\n    \"type\": \"page\",\n    \"title\": \"Blog\",\n    \"content\": \"Please enjoy my posts\"\n  },\n  {\n    \"id\": 9,\n    \"date\": \"2016-01-18T22:05:09\",\n    \"modified\": \"2016-01-18T22:05:09\",\n    \"slug\": \"contact\",\n    \"type\": \"page\",\n    \"title\": \"Contact\",\n    \"content\": \"Drop me a line with any questions :)\"\n  }\n];\n\n/**\n * Turn the posts/pages array into a usable JSON format\n * @type {String}\n */\nconst data = {\n  posts: posts,\n  pages: pages\n};\n","/**\n * Helpers object\n * @type {Object}\n */\nconst helpers = {};\n\n/**\n * Create a new list item for the main menu\n * @method createMenuItem\n * @param  {Object} data The current post or page of the page\n * @return {Node} A new list item of the main menu\n */\nhelpers.createMenuItem = (data) => {\n  let listItemEl = document.createElement('li');\n\n  listItemEl.appendChild(helpers.createLink(data));\n\n  return listItemEl;\n};\n\n/**\n * Create a new anchor\n * @method createLink\n * @param  {Object} data The current post or page of the page\n * @return {Node} The complete anchor for the current post or page\n */\nhelpers.createLink = (data) => {\n  let pageAnchor = document.createElement('a'),\n      pageAnchorContent = document.createTextNode(data.title);\n\n  if ('home' === data.slug) {\n    pageAnchor.href = '#';\n  } else {\n    pageAnchor.href = '#' + data.slug;\n  }\n\n  pageAnchor.appendChild(pageAnchorContent);\n\n  return pageAnchor;\n};\n\n/**\n * Get the main menu element\n * @method getMenu\n * @return {Node} The main menu for the site\n */\nhelpers.getMenu = () => {\n  return document.querySelector('#mainNav ul');\n};\n\n/**\n * Get the title of the current page\n * @method getPageTitle\n * @return {Node} The title of the current page\n */\nhelpers.getPageTitle = () => {\n  return document.getElementById('pageTitle');\n}\n\n/**\n * Get the content container of the current page\n * @method getContentContainer\n * @return {Node} The content container for the current page\n */\nhelpers.getContentContainer = () => {\n  return document.getElementById('pageContent');\n}\n\n/**\n * Gets the Editor element in the DOM\n * @method getEditorEl\n * @return {Object} Main editor DOM object\n */\nhelpers.getEditorEl = () => {\n  return document.getElementById('editor');\n};\n\n/**\n * Gets Editor toggle element in the DOM\n * @method getEditorToggle\n * @return {Object} Main toggle element\n */\nhelpers.getEditorToggle = () => {\n return document.getElementById('editorToggle');\n};\n\n/**\n * Gets editor toggle link Element in the DOM\n * @method getEditorToggleLink\n * @return {Object} Main toggle link\n */\nhelpers.getEditorToggleLink = () => {\n  return document.querySelector( '#editorToggle a' );\n};\n\n/**\n * Get the title input element from the editor\n * @method getEditorTitleEl\n * @return {Object} Editor title input\n */\nhelpers.getEditorTitleEl = () => {\n  return document.getElementById('editTitle');\n};\n\n/**\n * Get the content textarea from the editor\n * @method getEditorContentEl\n * @return {Object} Editor textarea\n */\nhelpers.getEditorContentEl = () => {\n  return document.getElementById('editContent');\n};\n\n/**\n * Get the editor button\n * @method getEditorUpdate\n * @return {Object} Editor button\n */\nhelpers.getEditorUpdate = () => {\n  return document.getElementById('editUpdateBtn');\n};\n","/**\n * Model object\n * @type {Object}\n */\nconst model = {};\n\n/**\n * Initialize the Model\n * @method init\n */\nmodel.init = () => {\n  if (!model.checkLocalStorage()) {\n    model.setLocalStorage(data);\n  }\n};\n\n/**\n * Get the content that is currently on the page or generate 404 text\n * @method getContent\n * @return {Object} Object containing the content for the current page\n */\nmodel.getContent = (slug) => {\n  let content = model.getPost(slug);\n\n  if (null === content) {\n    content = model.getPage(slug);\n  }\n\n  if (null === content) {\n    content = {\n      title: '404 Error',\n      content: 'Content not found'\n    }\n  }\n\n  return content;\n};\n\n/**\n * Determine what post or page is currently being viewed, and get the content for that page\n * @method getCurrentContent\n * @return {Object} The content of the current post or page\n */\nmodel.getCurrentContent = () => {\n  let slug = router.getSlug(),\n      content;\n\n  if (null === slug) {\n    slug = 'home';\n  }\n\n  content = model.getContent(slug);\n\n  return content;\n};\n\n/**\n * Get posts data from the browsers local storage, and sets to a variable for use\n * @method getPosts\n * @return {Array} An array of post objects\n */\nmodel.getPosts = () => {\n  let posts = model.getLocalStorage().posts;\n\n  return posts;\n};\n\n/**\n * Get a single post based upon the current URL slug\n * @method getPost\n * @param  {String} slug The current URL slug\n * @return {Object}      The post object with a matching slug, or null if there is no match\n */\nmodel.getPost = (slug) => {\n  let posts = model.getLocalStorage().posts;\n\n  for (let i = 0; i < posts.length; i++) {\n    if (slug === posts[i].slug) {\n      return posts[i];\n    }\n  }\n\n  return null;\n};\n\n/**\n * Get pages data from the browsers local storage, and sets to a variable for use\n * @method getPages\n * @return {Array} An array of page objects\n */\nmodel.getPages = () => {\n  let pages = model.getLocalStorage().pages;\n\n  return pages;\n};\n\n/**\n * Get a single page based upon the current URL slug\n * @method getPage\n * @param  {String} slug The current URL slug\n * @return {Object}      The page object with a matching slug, or null if there is no match\n */\nmodel.getPage = (slug) => {\n  let pages = model.getLocalStorage().pages;\n\n  for (let i = 0; i < pages.length; i++) {\n    if (slug === pages[i].slug) {\n      return pages[i];\n    }\n  }\n\n  return null;\n};\n\n/**\n * Update the content in the page with the content from the editor\n * @method updateContent\n * @param  {Object}      content The content from the editor\n */\nmodel.updateContent = (content) => {\n  let storage = model.getLocalStorage(),\n      date = new Date();\n\n  if ('post' === content.type) {\n    storage.posts.forEach(function(post) {\n      if (content.id === post.id) {\n        post.title = content.title;\n        post.content = content.content;\n        post.modified = date.toISOString();\n      }\n    });\n  }\n\n  if ('page' === content.type) {\n    storage.pages.forEach(function(page) {\n      if (content.id === page.id) {\n        page.title = content.title;\n        page.content = content.content;\n        page.modified = date.toISOString();\n      }\n    });\n  }\n\n  model.setLocalStorage(storage);\n};\n\n/**\n * Check if there is data in the browsers local storage\n * @method checkLocalStorage\n * @return {Boolean}        True or false\n */\nmodel.checkLocalStorage = () => {\n  let storage = model.getLocalStorage();\n\n  if (null === storage) {\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * Get content from the browsers local storage\n * @method getLocalStorage\n * @return {Object} JavaScript object or array containing the stored site data\n */\nmodel.getLocalStorage = () => {\n  return JSON.parse(localStorage.getItem('vanillaPress'));\n};\n\n/**\n * Save the temporary data to the browsers local storage\n * @method setLocalStorage\n * @param  {sting} data JSON string of the data to be stored\n */\nmodel.setLocalStorage = (data) => {\n  localStorage.setItem('vanillaPress', JSON.stringify(data));\n};\n\n/**\n * Deletes data from the browsers local storage\n * @method deleteLocalStorage\n */\nmodel.deleteLocalStorage = () => {\n  localStorage.removeItem('vanillaPress');\n};\n","/**\n * Router object\n * @type {Object}\n */\nconst router = {};\n\n/**\n * Initialize the Router\n * @method init\n */\nrouter.init = () => {\n  router.loadContent();\n  router.listenForChanges();\n}\n\n/**\n * Get the slug from the URL\n * @method getSlug\n * @return {String} The slug for the current post or page\n */\nrouter.getSlug = () => {\n  const slug = window.location.hash;\n\n  if ('' === slug) {\n    return null;\n  } else {\n    return slug.substring(1);\n  }\n}\n\n/**\n * Listen for changes to the URL hash\n * @method listenForChanges\n */\nrouter.listenForChanges = () => {\n  window.addEventListener('hashchange', router.loadContent, false);\n}\n\n/**\n * Load content based upon the current slug\n * @method loadContent\n */\nrouter.loadContent = () => {\n  const slug = router.getSlug();\n\n  view.clearContent();\n\n  if (null === slug) {\n    view.loadSingle('home');\n  } else if ('blog' === slug){\n    view.loadBlogPosts();\n  } else {\n    view.loadSingle(slug);\n  }\n}\n","/**\n * View object\n * @type {Object}\n */\nconst view = {};\n\n/**\n * Initialize the View\n * @method init\n */\nview.init = () => {\n  view.createMenu();\n};\n\n/**\n * Get the post data from local storage, create markup for each one, and append them to the page\n * @method loadBlogPosts\n */\nview.loadBlogPosts = () => {\n  let posts = model.getPosts(),\n      postsMarkup = document.createDocumentFragment(),\n      contentContainer = helpers.getContentContainer();\n\n  for (let i = 0; i < posts.length; i++) {\n    postsMarkup.appendChild(view.createPostMarkup(posts[i]));\n  }\n\n  contentContainer.appendChild(postsMarkup);\n};\n\n/**\n * Load a single blog post\n * @method loadSingle\n * @param  {String} slug The current URL slug\n */\nview.loadSingle = (slug) => {\n  let content = model.getContent(slug),\n      titleEl = helpers.getPageTitle(),\n      postContent = helpers.getContentContainer();\n\n  titleEl.innerHTML = content.title;\n  postContent.innerHTML = content.content;\n};\n\n/**\n * Update the page title with content in the editor\n * @method updateTitleFromForm\n */\nview.updateTitleFromForm = () => {\n  let titleEl = helpers.getPageTitle(),\n      title = helpers.getEditorTitleEl().value;\n\n  titleEl.innerHTML = title;\n  editor.currentContent.title = title;\n};\n\n/**\n * Update the page content with content in the editor\n * @method updateContentFromForm\n */\nview.updateContentFromForm = () => {\n  let contentEl = helpers.getContentContainer(),\n      content = helpers.getEditorContentEl().value;\n\n  contentEl.innerHTML = content;\n  editor.currentContent.content = content;\n};\n\n/**\n * Clear the content from the page\n * @method clearContent\n */\nview.clearContent = () => {\n  let titleEl = helpers.getPageTitle(),\n      postContent = helpers.getContentContainer();\n\n  titleEl.innerHTML = '';\n  postContent.innerHTML = '';\n};\n\n/**\n * Display the menu of pages\n * @method createMenu\n */\nview.createMenu = () => {\n  let pages = model.getPages(),\n      menuMarkup = document.createDocumentFragment(),\n      menuEl = helpers.getMenu();\n\n  for (var i = 0; i < pages.length; i++) {\n    menuMarkup.appendChild(helpers.createMenuItem(pages[i]));\n  }\n\n  menuEl.appendChild(menuMarkup);\n};\n\n/**\n * Create the markup for the posts\n * @method createPostMarkup\n * @param  {Object} post Post to create markup for\n * @return {Node} Final post markup\n */\nview.createPostMarkup = (post) => {\n  let articleEl = document.createElement('article'),\n      titleEl = document.createElement('h2'),\n      titleAnchor = document.createElement('a'),\n      titleContent = document.createTextNode(post.title),\n      postContent = document.createElement('div');\n\n  titleAnchor.appendChild(titleContent);\n  titleAnchor.href = '#' + post.slug;\n  titleEl.appendChild(titleAnchor);\n\n  postContent.appendChild(document.createTextNode(post.content));\n\n  articleEl.appendChild(titleEl);\n  articleEl.appendChild(postContent);\n\n  return articleEl;\n};\n","/**\n * Editor object\n * @type {Object}\n */\nconst editor = {};\n\n/**\n * The current content inside of the editor\n * @type {String}\n */\neditor.currentContent = '';\n\n/**\n * Initialize the editor\n * @method init\n */\neditor.init = () => {\n  editor.listener();\n};\n\n/**\n * Update the content in the page with the content from the editor\n * @method updateContent\n */\neditor.updateContent = () => {\n  model.updateContent(editor.currentContent);\n};\n\n/**\n * Fill the editor form with the content of the current post or page\n * @method fillEditorForm\n * @param  {Obejct} content Content object for the current page or post\n */\neditor.loadEditorForm = (content) => {\n  let formTitle = helpers.getEditorTitleEl(),\n      formContent = helpers.getEditorContentEl();\n\n  formTitle.value = content.title;\n  formContent.value = content.content;\n\n  editor.addFormListeners();\n};\n\n/**\n * Listen to the form inputs for content changes\n * @method addFormListeners\n */\neditor.addFormListeners = () => {\n  let formTitle = helpers.getEditorTitleEl(),\n      formContent = helpers.getEditorContentEl(),\n      formButton = helpers.getEditorUpdate();\n\n  formTitle.addEventListener('input', view.updateTitleFromForm, false);\n  formContent.addEventListener('input', view.updateContentFromForm, false);\n  formButton.addEventListener('click', editor.updateContent, false);\n};\n\n/**\n * Listens for the editor toggle button\n * @return {Object} Main editor DOM object\n */\neditor.listener = () => {\n  let toggle = helpers.getEditorToggle();\n\n  toggle.addEventListener('click', function() {\n    editor.toggle();\n    event.preventDefault();\n  }, false);\n};\n\n/**\n * Controls the toggle for the editor\n * @return {Object} Main toggle element\n */\neditor.toggle = () => {\n  let editorEl = helpers.getEditorEl(),\n      editorToggle = helpers.getEditorToggle();\n\n  editor.currentContent = model.getCurrentContent();\n\n  editorEl.classList.toggle('hidden');\n  editorToggle.classList.toggle('hidden');\n\n  if (false === editorToggle.classList.contains('hidden')) {\n    editor.loadEditorForm(editor.currentContent);\n  }\n};\n","/**\n * The primary VanillaPress application object\n * @type {Object}\n */\nconst vanillaPress = {};\n\n/**\n * Initialize the app\n * @method init\n */\nvanillaPress.init = () => {\n  model.init();\n  router.init();\n  view.init();\n  editor.init();\n};\n\nvanillaPress.init();\n"]}